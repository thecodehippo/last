const apiResponse = {"api":{"results":10,"fixtures":[{"fixture_id":157385,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"Emirates Stadium","referee":"Mike Dean, England","homeTeam":{"team_id":42,"team_name":"Arsenal","logo":"https:\/\/media.api-sports.io\/football\/teams\/42.png"},"awayTeam":{"team_id":38,"team_name":"Watford","logo":"https:\/\/media.api-sports.io\/football\/teams\/38.png"},"goalsHomeTeam":3,"goalsAwayTeam":2,"score":{"halftime":"3-1","fulltime":"3-2","extratime":null,"penalty":null}},{"fixture_id":157386,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"Turf Moor","referee":"Jonathan Moss, England","homeTeam":{"team_id":44,"team_name":"Burnley","logo":"https:\/\/media.api-sports.io\/football\/teams\/44.png"},"awayTeam":{"team_id":51,"team_name":"Brighton","logo":"https:\/\/media.api-sports.io\/football\/teams\/51.png"},"goalsHomeTeam":1,"goalsAwayTeam":2,"score":{"halftime":"1-1","fulltime":"1-2","extratime":null,"penalty":null}},{"fixture_id":157387,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"Stamford Bridge","referee":"Stuart Attwell, England","homeTeam":{"team_id":49,"team_name":"Chelsea","logo":"https:\/\/media.api-sports.io\/football\/teams\/49.png"},"awayTeam":{"team_id":39,"team_name":"Wolves","logo":"https:\/\/media.api-sports.io\/football\/teams\/39.png"},"goalsHomeTeam":2,"goalsAwayTeam":0,"score":{"halftime":"2-0","fulltime":"2-0","extratime":null,"penalty":null}},{"fixture_id":157388,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"Selhurst Park","referee":"Andre Marriner, England","homeTeam":{"team_id":52,"team_name":"Crystal Palace","logo":"https:\/\/media.api-sports.io\/football\/teams\/52.png"},"awayTeam":{"team_id":47,"team_name":"Tottenham","logo":"https:\/\/media.api-sports.io\/football\/teams\/47.png"},"goalsHomeTeam":1,"goalsAwayTeam":1,"score":{"halftime":"0-1","fulltime":"1-1","extratime":null,"penalty":null}},{"fixture_id":157389,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"Goodison Park","referee":"Chris Kavanagh, England","homeTeam":{"team_id":45,"team_name":"Everton","logo":"https:\/\/media.api-sports.io\/football\/teams\/45.png"},"awayTeam":{"team_id":35,"team_name":"Bournemouth","logo":"https:\/\/media.api-sports.io\/football\/teams\/35.png"},"goalsHomeTeam":1,"goalsAwayTeam":3,"score":{"halftime":"1-2","fulltime":"1-3","extratime":null,"penalty":null}},{"fixture_id":157390,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"King Power Stadium","referee":"Martin Atkinson, England","homeTeam":{"team_id":46,"team_name":"Leicester","logo":"https:\/\/media.api-sports.io\/football\/teams\/46.png"},"awayTeam":{"team_id":33,"team_name":"Manchester United","logo":"https:\/\/media.api-sports.io\/football\/teams\/33.png"},"goalsHomeTeam":0,"goalsAwayTeam":2,"score":{"halftime":"0-0","fulltime":"0-2","extratime":null,"penalty":null}},{"fixture_id":157391,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"Etihad Stadium","referee":"Craig Pawson, England","homeTeam":{"team_id":50,"team_name":"Manchester City","logo":"https:\/\/media.api-sports.io\/football\/teams\/50.png"},"awayTeam":{"team_id":71,"team_name":"Norwich","logo":"https:\/\/media.api-sports.io\/football\/teams\/71.png"},"goalsHomeTeam":5,"goalsAwayTeam":0,"score":{"halftime":"2-0","fulltime":"5-0","extratime":null,"penalty":null}},{"fixture_id":157392,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"St. James' Park","referee":"Anthony Taylor, England","homeTeam":{"team_id":34,"team_name":"Newcastle","logo":"https:\/\/media.api-sports.io\/football\/teams\/34.png"},"awayTeam":{"team_id":40,"team_name":"Liverpool","logo":"https:\/\/media.api-sports.io\/football\/teams\/40.png"},"goalsHomeTeam":1,"goalsAwayTeam":3,"score":{"halftime":"1-1","fulltime":"1-3","extratime":null,"penalty":null}},{"fixture_id":157393,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"St. Mary's Stadium","referee":"Peter Bankes, England","homeTeam":{"team_id":41,"team_name":"Southampton","logo":"https:\/\/media.api-sports.io\/football\/teams\/41.png"},"awayTeam":{"team_id":62,"team_name":"Sheffield Utd","logo":"https:\/\/media.api-sports.io\/football\/teams\/62.png"},"goalsHomeTeam":3,"goalsAwayTeam":1,"score":{"halftime":"0-1","fulltime":"3-1","extratime":null,"penalty":null}},{"fixture_id":157394,"league_id":524,"league":{"name":"Premier League","country":"England","logo":"https:\/\/media.api-sports.io\/football\/leagues\/39.png","flag":"https:\/\/media.api-sports.io\/flags\/gb.svg"},"event_date":"2020-07-26T16:00:00+01:00","event_timestamp":1595775600,"firstHalfStart":1595775600,"secondHalfStart":1595779200,"round":"Regular Season - 38","status":"Match Finished","statusShort":"FT","elapsed":90,"venue":"London Stadium","referee":"Michael Oliver, England","homeTeam":{"team_id":48,"team_name":"West Ham","logo":"https:\/\/media.api-sports.io\/football\/teams\/48.png"},"awayTeam":{"team_id":66,"team_name":"Aston Villa","logo":"https:\/\/media.api-sports.io\/football\/teams\/66.png"},"goalsHomeTeam":1,"goalsAwayTeam":1,"score":{"halftime":"0-0","fulltime":"1-1","extratime":null,"penalty":null}}]}};

//global variables
const results = apiResponse.api.results;
let addRowsDone = false;
const homeTeams = [];
const awayTeams = [];

//event listeners
document.getElementById('addRowsButton').addEventListener('click',addRows);
document.getElementById('addTeamsButton').addEventListener('click',addTeams);
document.getElementById('populateTable').addEventListener('click',populateTable);

//functions
function addRows() {
  if (!addRowsDone) {
    const table = document.getElementById('fixturesTable');
    for (let i = 0; i < results; i++) {
      var row = table.insertRow(1);
      var cell1 = row.insertCell(0);
      cell1.id = `H${i}`;
      var cell2 = row.insertCell(1);
      cell2.id = `A${i}`;
    }
    addRowsDone = true;
  } else console.log("computer says no");
}

function addTeams() {
  for (let j = 0; j < results; j++) {
    homeTeams.push(apiResponse.api.fixtures[j].homeTeam.team_name);
    awayTeams.push(apiResponse.api.fixtures[j].awayTeam.team_name);
  }
}

function populateTable() {
  for (let p = 0; p < results; p++) {
    var homeCell = document.getElementById(`H${p}`).innerHTML = homeTeams[p];
    var awayCell = document.getElementById(`A${p}`).innerHTML = awayTeams[p];
  }
}
